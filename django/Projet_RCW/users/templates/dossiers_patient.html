{% extends 'index.html' %}
{% block content %}
{% load static %}
<div class="products-area-wrapper tableView">
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-success">{{ message }}</div>
        {% endfor %}
    {% endif %}
    <div class="products-header">
        <div class="product-cell category">Patient</div>
        <div class="product-cell status-cell">Médecin</div>
        <div class="product-cell status-cell">Infirmier</div>
        <div class="product-cell sales">Maladie</div>
        <div class="product-cell sales">Statut</div>
        <div class="product-cell sales">Interne</div>
        <div class="product-cell sales">Action</div>
    </div>
    {% for dossier in dossiers %}
    <div class="products-row">
        <button class="cell-more-button">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-vertical">
                <circle cx="12" cy="12" r="1"></circle>
                <circle cx="12" cy="5" r="1"></circle>
                <circle cx="12" cy="19" r="1"></circle>
            </svg>
        </button>
        <div class="product-cell image">
            <img src="https://tse4.mm.bing.net/th?id=OIP.UwP9KtmqzxLmbVYzDc8wZQHaHa&pid=Api&P=0&h=180" alt="product">
            <span>{{ dossier.Patient.name }}</span>
        </div>
        <div class="product-cell status-cell"><span class="cell-label">Médecin:</span>{{ dossier.Medecin.name }}</div>
        <div class="product-cell status-cell"><span class="cell-label">Infirmier:</span>{% if dossier.Infirmier %}{{ dossier.Infirmier.name }}{% else %}Aucun{% endif %}</div>
        <div class="product-cell sales"><span class="cell-label">Maladie:</span>{{ dossier.disease }}</div>
        <div class="product-cell sales"><span class="cell-label">Statut:</span>{{ dossier.status }}</div>
        <div class="product-cell sales"><span class="cell-label">Interne:</span>{{ dossier.internal }}</div>
        <div class="product-cell actions">
            <!-- Actions pour les dossiers -->
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
